# Networked Player Controller (Mirror + Zenject)

Пример архитектурно продуманного клиент-серверного решения для управления персонажем в Unity, использующего **Mirror** для сетевой логики и **Zenject** для управления зависимостями.

## Особенности

*   **Сетевой контроллер персонажа:** Плавное передвижение, прыжки, бег с синхронизацией анимаций между сервером и клиентами.
*   **Камера от третьего лица:** Следование за игроком и управление обзором.
*   **Чат:** Простая сетевая система обмена сообщениями между игроками.
*   **Автоматическое подключение/хостинг:** Клиент пытается подключиться, если порт занят - запускает сервер.
*   **Регистрация никнейма:** Простой UI для задания имени игрока с сохранением между сессиями.
*   **Архитектура:**
    *   Четкое разделение ответственности (Mover, Rotater, MoveController, InputHandler).
    *   Использование ScriptableObjects для настройки параметров персонажа (`MoverData`, `RotationData`).
    *   Машина состояний для управления потоком игры (Bootstrap, Menu, Load, Game).
    *   Zenject для гибкой и тестируемой сборки зависимостей.
    *   Addressables для асинхронной загрузки ресурсов.

 Проект демонстрирует подход к созданию масштабируемой и поддерживаемой сетевой архитектуры в Unity.  

## Быстрый старт

1.  Откройте проект в Unity 2022.3.
2.  Убедитесь, что установлены пакеты `Mirror`, `Zenject`, `Cinemachine`, `TextMeshPro`, `Addressables`.
3.  Настройте Addressables: добавьте префабы `PlayerArmature`, `RegisterWindowCanvas`, `ChatCanvas` в группу Addressables.
4.  Откройте сцену `Assets\_Project\Scenes\Entry`.
5.  Запустите игру. Первый экземпляр попытается стать сервером, следующие — подключатся как клиенты.

## Структура проекта

*   `Assets/_Project.Scripts/GameLogic/PlayerController`: Основная логика игрока (движение, камера, анимации).
*   `Assets/_Project.Scripts/Infrastructure`: Ядро приложения (машина состояний, фабрика, сетевой менеджер, загрузчик сцен).
*   `Assets/_Project.Scripts/UI`: Логика UI (регистрация, чат).
*   `Assets/_Project.Scripts/MonoInstallers`: Конфигурация Zenject.

## Примечания

*   Для работы сетевой части требуется открытый порт (по умолчанию 7777) или локальный тест в редакторе/билдах.
*   Параметры движения и вращения настраиваются через `MoverData` и `RotationData` в префабе игрока.
